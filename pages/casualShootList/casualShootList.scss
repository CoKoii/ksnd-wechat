@import "../../styles/theme/index.scss";

page {
  height: 100%;
  overflow: hidden;
}

.casual-shoot-list-page {
  height: 100%;
  display: flex;
  flex-direction: column;
  background-color: $color-bg-page-alt;

  .tabs {
    flex-shrink: 0;
    display: flex;
    background-color: $color-bg-card;
    padding: 0 32rpx;

    .tab-item {
      flex: 1;
      text-align: center;
      padding: 30rpx 0 24rpx;
      font-size: 28rpx;
      color: $color-text-sub;
      position: relative;

      &.active {
        color: $color-primary-light;
        font-weight: 600;

        &::after {
          content: "";
          position: absolute;
          left: 50%;
          bottom: 0;
          transform: translateX(-50%);
          width: 64rpx;
          height: 6rpx;
          border-radius: $radius-xs;
          background-color: $color-primary-light;
        }
      }
    }
  }

  .search-bar {
    flex-shrink: 0;
    display: flex;
    align-items: center;
    gap: 16rpx;
    padding: 20rpx 32rpx;
    background-color: $color-bg-card;
    border-top: 1rpx solid $color-border-base;
    border-bottom: 1rpx solid $color-border-base;

    .search-input {
      flex: 1;
      height: 72rpx;
      border: 1rpx solid $color-border-input;
      border-radius: $radius-lg;
      background-color: $color-input-bg;
      box-sizing: border-box;
      padding: 0 24rpx;
      font-size: 26rpx;
      color: $color-text-main;
    }

    .search-placeholder {
      color: $color-text-muted;
    }

    .search-action,
    .search-reset {
      height: 72rpx;
      line-height: 72rpx;
      padding: 0 24rpx;
      border-radius: $radius-lg;
      font-size: 26rpx;
      text-align: center;
      flex-shrink: 0;
    }

    .search-action {
      background-color: $color-primary-light;
      color: $color-text-inverse;
    }

    .search-reset {
      background-color: $color-bg-page;
      color: $color-text-sub;
    }
  }

  .scroll-container {
    flex: 1;
    height: 0;
    padding: 24rpx 32rpx 24rpx;
    box-sizing: border-box;

    .record-item {
      background-color: $color-bg-card;
      border-radius: $radius-md;
      padding: 28rpx;
      margin-bottom: 20rpx;
      box-shadow: 0 8rpx 24rpx $color-overlay-surface;

      .record-header {
        display: flex;
        align-items: flex-start;
        justify-content: space-between;
        gap: 12rpx;
        margin-bottom: 14rpx;
      }

      .record-title {
        flex: 1;
        font-size: 30rpx;
        color: $color-text-body;
        font-weight: 600;
        line-height: 1.45;
        display: -webkit-box;
        -webkit-line-clamp: 2;
        -webkit-box-orient: vertical;
        overflow: hidden;
      }

      .state-tag {
        flex-shrink: 0;
        height: 40rpx;
        line-height: 40rpx;
        padding: 0 14rpx;
        border-radius: 999rpx;
        font-size: 22rpx;
        font-weight: 600;

        &.is-pending {
          color: $color-danger;
          background-color: $color-danger-bg-soft;
        }

        &.is-done {
          color: $color-success-deep;
          background-color: $color-success-bg-soft;
        }

        &.is-unknown {
          color: $color-text-sub;
          background-color: $color-bg-page;
        }
      }

      .record-date {
        margin-bottom: 0;
        font-size: 22rpx;
        color: $color-text-muted;

        &.has-images {
          margin-bottom: 12rpx;
        }
      }

      .record-images {
        display: flex;
        flex-wrap: wrap;
        gap: 10rpx;

        .record-image {
          width: 140rpx;
          height: 140rpx;
          border-radius: 8rpx;
          flex-shrink: 0;
          background-color: $color-bg-page-alt;
        }
      }
    }

    .record-item:last-child {
      margin-bottom: 0;
    }

    .loading-more,
    .empty {
      padding-top: 220rpx;
      text-align: center;
      font-size: 28rpx;
      color: $color-text-muted;
    }
  }

  .fab-add {
    position: fixed;
    right: 36rpx;
    bottom: calc(24rpx + constant(safe-area-inset-bottom));
    bottom: calc(24rpx + env(safe-area-inset-bottom));
    min-width: 180rpx;
    height: 84rpx;
    line-height: 84rpx;
    border-radius: 999rpx;
    border: none;
    background-color: $color-primary-light;
    color: $color-text-inverse;
    font-size: 28rpx;
    font-weight: 600;
    padding: 0 36rpx;
  }
}
