<scroll-view class="home-scroll" scroll-y>
  <!-- 顶部蓝色区域 -->
  <view class="top-area-blue">
    <view style="height: {{statusBarHeight}}px;"></view>
    <view class="nav-bar" style="height: {{navBarHeight}}px;">
      <view class="title">华远直巡</view>
    </view>
    <view class="info">
      <view class="left">
        <view class="title-trigger" bindtap="onProjectPanelToggle">
          <view class="title-wrap">
            <view class="title">{{selectedProjectName || "请选择场所"}}</view>
            <van-icon
              name="{{showProjectPanel ? 'arrow-up' : 'arrow-down'}}"
              size="28rpx"
            />
          </view>
        </view>
        <view
          wx:if="{{showProjectPanel}}"
          class="project-mask"
          bindtap="onProjectPanelClose"
        ></view>
        <view wx:if="{{showProjectPanel}}" class="project-panel" catchtap="onProjectPanelTap">
          <view class="panel-search">
            <input
              class="search-input"
              value="{{projectKeyword}}"
              placeholder="按名称搜索场所"
              placeholder-class="search-placeholder"
              confirm-type="search"
              bindinput="onProjectKeywordInput"
              bindconfirm="onProjectSearchConfirm"
            />
            <view class="search-btn" bindtap="onProjectSearchTap">搜索</view>
            <view
              wx:if="{{projectKeyword}}"
              class="reset-btn"
              bindtap="onProjectSearchReset"
            >
              重置
            </view>
          </view>
          <scroll-view class="panel-list" scroll-y>
            <view
              class="panel-item {{item.id === selectedProjectId ? 'is-active' : ''}}"
              wx:for="{{projectOptions}}"
              wx:key="id"
              data-index="{{index}}"
              bindtap="onProjectSelect"
            >
              {{item.name}}
            </view>
            <view wx:if="{{loadingProjectTree}}" class="panel-status">加载中...</view>
            <view
              wx:if="{{!loadingProjectTree && projectOptions.length === 0}}"
              class="panel-status"
            >
              暂无场所
            </view>
          </scroll-view>
        </view>
        <view class="welcome">欢迎您，某某</view>
      </view>
    </view>
  </view>

  <view class="container">
    <ProjectOverview />
    <TodayInspectSituation />
    <MyTodo />
  </view>
</scroll-view>
