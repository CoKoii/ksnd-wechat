@import "../../styles/theme/index.scss";

/* pages/todoList/todoList.scss */
page {
  height: 100%;
  overflow: hidden;
}

.todo-list-page {
  height: 100%;
  display: flex;
  flex-direction: column;
  background-color: $color-bg-page-alt;

  .tabs {
    flex-shrink: 0;
    display: flex;
    background-color: $color-bg-card;
    padding: 0 32rpx;
    box-shadow: $shadow-nav;
    z-index: 10;

    .tab-item {
      flex: 1;
      text-align: center;
      padding: 32rpx 0;
      font-size: 28rpx;
      color: $color-text-sub;
      position: relative;
      transition: all 0.3s;

      &.active {
        color: $color-primary-light;
        font-weight: 600;

        &::after {
          content: "";
          position: absolute;
          bottom: 0;
          left: 50%;
          transform: translateX(-50%);
          width: 60rpx;
          height: 6rpx;
          background-color: $color-primary-light;
          border-radius: $radius-xs;
        }
      }
    }
  }

  .search-bar {
    flex-shrink: 0;
    display: flex;
    align-items: center;
    gap: 16rpx;
    padding: 20rpx 32rpx;
    background-color: $color-bg-card;
    border-top: 1rpx solid $color-border-base;
    border-bottom: 1rpx solid $color-border-base;

    .search-input {
      flex: 1;
      height: 72rpx;
      border-radius: $radius-lg;
      border: 1rpx solid $color-border-input;
      background-color: $color-input-bg;
      box-sizing: border-box;
      padding: 0 24rpx;
      font-size: 26rpx;
      color: $color-text-main;
    }

    .search-placeholder {
      color: $color-text-muted;
    }

    .search-action,
    .search-reset {
      height: 72rpx;
      line-height: 72rpx;
      padding: 0 24rpx;
      border-radius: $radius-lg;
      font-size: 26rpx;
      text-align: center;
      flex-shrink: 0;
    }

    .search-action {
      color: #fff;
      background-color: $color-primary-light;
    }

    .search-reset {
      color: $color-text-sub;
      background-color: $color-bg-page;
    }
  }

  .scroll-container {
    flex: 1;
    height: 0;
    padding: 24rpx 32rpx;
    box-sizing: border-box;

    .todo-items {
      .todo-item {
        background-color: $color-bg-card;
        border-radius: $radius-md;
        padding: 32rpx;
        margin-bottom: 24rpx;
        box-shadow: $shadow-card;

        .item-header {
          display: flex;
          justify-content: space-between;
          align-items: flex-start;
          margin-bottom: 24rpx;
          padding-bottom: 24rpx;
          border-bottom: 1rpx solid $color-border-base;

          .title-row {
            display: flex;
            align-items: center;
            flex: 1;

            .title {
              font-size: 32rpx;
              font-weight: 600;
              color: $color-text-body;
              margin-right: 16rpx;
            }

            .badge {
              font-size: 20rpx;
              padding: 4rpx 12rpx;
              border-radius: 4rpx;

              &.urgent {
                background-color: $color-danger-bg;
                color: $color-danger;
              }
            }
          }
        }

        .item-body {
          margin-bottom: 24rpx;

          .info-row {
            display: flex;
            align-items: center;
            margin-bottom: 16rpx;
            font-size: 26rpx;

            &:last-child {
              margin-bottom: 0;
            }

            .label {
              color: $color-text-sub;
              margin-right: 8rpx;
            }

            .value {
              color: $color-text-body;
              font-weight: 500;
            }
          }
        }

        .item-footer {
          display: flex;
          justify-content: space-between;
          align-items: center;
          padding-top: 24rpx;
          border-top: 1rpx solid $color-border-base;
          font-size: 24rpx;

          .footer-left {
            display: flex;
            align-items: center;

            .label {
              color: $color-text-muted;
              margin-right: 8rpx;
            }

            .value {
              color: $color-text-body;
            }
          }

          .footer-right {
            display: flex;
            align-items: center;

            .label {
              color: $color-text-muted;
              margin-right: 8rpx;
            }

            .deadline {
              color: $color-primary-light;
              font-weight: 500;
            }
          }
        }
      }
    }

    .loading-more,
    .no-more,
    .empty {
      text-align: center;
      padding: 40rpx 0;
      font-size: 28rpx;
      color: $color-text-muted;
    }

    .empty {
      padding-top: 200rpx;
    }
  }
}
