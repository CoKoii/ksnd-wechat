@import "../../styles/theme/index.scss";

/* pages/todoList/todoList.scss */
page {
  height: 100%;
  overflow: hidden;
}

.todo-list-page {
  height: 100%;
  display: flex;
  flex-direction: column;
  background-color: $color-bg-page-alt;

  .tabs {
    flex-shrink: 0;
    display: flex;
    background-color: $color-bg-card;
    padding: 0 32rpx;
    z-index: 10;

    .tab-item {
      flex: 1;
      text-align: center;
      padding: 32rpx 0;
      font-size: 28rpx;
      color: $color-text-sub;
      position: relative;
      transition: all 0.3s;

      &.active {
        color: $color-primary-light;
        font-weight: 600;

        &::after {
          content: "";
          position: absolute;
          bottom: 0;
          left: 50%;
          transform: translateX(-50%);
          width: 60rpx;
          height: 6rpx;
          background-color: $color-primary-light;
          border-radius: $radius-xs;
        }
      }
    }
  }

  .search-bar {
    flex-shrink: 0;
    display: flex;
    align-items: center;
    gap: 16rpx;
    padding: 20rpx 32rpx;
    background-color: $color-bg-card;
    border-top: 1rpx solid $color-border-base;
    border-bottom: 1rpx solid $color-border-base;

    .search-input {
      flex: 1;
      height: 72rpx;
      border-radius: $radius-lg;
      border: 1rpx solid $color-border-input;
      background-color: $color-input-bg;
      box-sizing: border-box;
      padding: 0 24rpx;
      font-size: 26rpx;
      color: $color-text-main;
    }

    .search-placeholder {
      color: $color-text-muted;
    }

    .search-action,
    .search-reset {
      height: 72rpx;
      line-height: 72rpx;
      padding: 0 24rpx;
      border-radius: $radius-lg;
      font-size: 26rpx;
      text-align: center;
      flex-shrink: 0;
    }

    .search-action {
      color: $color-text-inverse;
      background-color: $color-primary-light;
    }

    .search-reset {
      color: $color-text-sub;
      background-color: $color-bg-page;
    }
  }

  .scroll-container {
    flex: 1;
    height: 0;
    padding: 24rpx 32rpx;
    box-sizing: border-box;

    .todo-items {
      .todo-item {
        position: relative;
        overflow: hidden;
        background: linear-gradient(180deg, #ffffff 0%, #fdfefe 100%);
        border: 1rpx solid $color-border-base;
        border-radius: $radius-lg;
        padding: 28rpx 28rpx 24rpx;
        margin-bottom: 24rpx;
        box-shadow: $shadow-card;

        .item-header {
          margin-top: 8rpx;
          margin-bottom: 20rpx;

          .title {
            display: block;
            font-size: 34rpx;
            line-height: 46rpx;
            font-weight: 700;
            color: $color-text-main;
            word-break: break-all;
          }
        }

        .item-body {
          margin-bottom: 20rpx;

          .shop-row {
            display: flex;
            align-items: baseline;
            padding: 14rpx 18rpx;
            background-color: $color-input-bg;
            border-radius: $radius-sm;
            border: 1rpx solid $color-border-light;

            .shop-label {
              flex-shrink: 0;
              margin-right: 12rpx;
              font-size: 24rpx;
              color: $color-text-muted;
            }

            .shop-value {
              font-size: 26rpx;
              line-height: 38rpx;
              color: $color-text-body;
              font-weight: 600;
              word-break: break-all;
            }
          }
        }

        .item-footer {
          display: flex;
          align-items: center;
          padding-top: 18rpx;
          gap: 24rpx;
          border-top: 1rpx solid $color-border-base;
          .footer-label {
            font-size: 22rpx;
            color: $color-text-muted;
            letter-spacing: 1rpx;
          }

          .publish-time {
            font-size: 24rpx;
            color: $color-text-link;
            font-weight: 500;
          }
        }
      }
    }

    .loading-more,
    .no-more,
    .empty {
      text-align: center;
      padding: 40rpx 0;
      font-size: 28rpx;
      color: $color-text-muted;
    }

    .empty {
      padding-top: 200rpx;
    }
  }
}
